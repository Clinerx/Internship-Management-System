{% extends 'student_pages/student_base.html' %}

{% block title %}Application Status{% endblock %}
{% block header %}Application Status{% endblock %}
{% block content %}
<div class="status-container container">
    <h2>Application Status for {{ application.internship.title }}</h2>
    
    <!-- Stepper -->
    <div class="md-stepper-horizontal d-flex justify-content-between flex-wrap">
        {% for stage in stages %}
            <div class="md-step {% if stage == status_details.status %}active{% elif stage in status_details.completed_stages %}done{% endif %}">
                <div class="md-step-circle"><span>{{ forloop.counter }}</span></div>
                <div class="md-step-title">{{ stage }}</div>
            </div>
            {% if not forloop.last %}
                <div class="md-step-line"></div> <!-- Line between steps -->
            {% endif %}
        {% endfor %}
    </div>
    
    <div class="status-details mt-4">
        <p><strong>Current Status:</strong> {{ status_details.status }}</p>
        <p><strong>Review Stage:</strong> {{ status_details.review_stage }}</p>
        <p><strong>Date of Submission:</strong> {{ status_details.submission_date|date:"F d, Y" }}</p>
        <p><strong>Comments:</strong> {{ status_details.comments }}</p>
    </div>

    <a href="{% url 'student_status' %}" class="btn back-btn mt-3">Back to Internships</a>
</div>

<style>
    .status-container {
        padding: 40px;
        border: 1px solid #ddd;
        border-radius: 8px;
        background-color: #f9f9f9;
        max-width: 100%;
        width: 90%;
        margin: 30px auto;
        text-align: center;
    }
    
    .md-stepper-horizontal {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin: 0 auto;
        background-color: #FFFFFF;
        box-shadow: 0 3px 8px -6px rgba(0,0,0,.50);
    }
    
    .md-stepper-horizontal .md-step {
        display: inline-flex;
        position: relative;
        flex-direction: column;
        align-items: center;
        padding: 20px;
        text-align: center;
        flex: 1;
    }
    
    .md-stepper-horizontal .md-step:hover,
    .md-stepper-horizontal .md-step:active {
        background-color: rgba(0,0,0,0.04);
    }
    
    .md-stepper-horizontal .md-step .md-step-circle {
        width: 50px;
        height: 50px;
        margin: 0 auto;
        background-color: #999999;
        border-radius: 50%;
        text-align: center;
        line-height: 50px;
        font-size: 18px;
        font-weight: 600;
        color: #FFFFFF;
    }

    /* Active and Done Circle Colors */
    .md-stepper-horizontal .md-step.active .md-step-circle,
    .md-stepper-horizontal .md-step.done .md-step-circle {
        background-color: #007bff;  /* Blue color */
    }

    .md-stepper-horizontal .md-step.done .md-step-circle:before {
        font-family: 'FontAwesome';
        font-weight: 100;
        content: "\f00c";
    }

    .md-stepper-horizontal .md-step .md-step-title {
        margin-top: 20px;
        font-size: 18px;
        font-weight: 600;
    }

    .md-stepper-horizontal .md-step .md-step-optional {
        font-size: 14px;
    }

    .md-stepper-horizontal .md-step.active .md-step-title {
        font-weight: 600;
        color: rgba(0,0,0,.87);
    }

    /* Line between the circles */
    .md-step-line {
        flex-grow: 1;
        height: 3px;
        background-color: #007bff; /* Blue line color */
        margin-top: 25px;  /* Adjust to center the line */
        margin-bottom: 25px; /* Adjust to align line with circles */
    }

    .status-details p {
        font-size: 1.1rem;
        color: #333;
        margin: 20px 0;
    }

    .btn.back-btn {
        margin-top: 30px;
        display: inline-block;
        padding: 12px 30px;
        color: #fff;
        background-color: #007bff;
        border: none;
        border-radius: 8px;
        text-decoration: none;
        transition: background-color 0.3s;
    }
    
    .btn.back-btn:hover {
        background-color: #0056b3;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
        .status-container {
            padding: 20px;
            width: 95%;
        }

        .md-stepper-horizontal {
            flex-direction: column;
            align-items: center;
        }

        .md-stepper-horizontal .md-step {
            padding: 15px;
        }

        .md-step-line {
            width: 80%;
            margin-top: 10px;
            margin-bottom: 10px;
        }

        .status-details p {
            font-size: 1rem;
        }

        .btn.back-btn {
            width: 100%;
            padding: 14px 0;
        }
    }

    @media (max-width: 576px) {
        .md-stepper-horizontal .md-step .md-step-circle {
            width: 40px;
            height: 40px;
            line-height: 40px;
            font-size: 16px;
        }

        .md-stepper-horizontal .md-step .md-step-title {
            font-size: 16px;
        }
    }
</style>

{% endblock %}
